name: Format Commit Message

on:
  push:
    branches: [main, "**"] # This triggers on pushes to main and all branches

jobs:
  format-message:
    runs-on: ubuntu-latest # You can choose a different runner if needed
    steps:
      - uses: actions/checkout@v3 # Checks out your code

      - name: Format Commit Message
        run: | # This step runs the script
          bash ${GITHUB_WORKSPACE}/scripts/format-commit.sh < /dev/stdin
        env:
          INPUT_MESSAGE: ${{ github.event.message }} # Pass commit message from event
